<div class="container mt-5">
  <form action="/records/{{ record._id }}?_method=PUT" method="POST">

    <div class="d-flex mb-3">
      <div id="formHelp" class="form-text p-3 mb-3" style="color: red; font: bold;">*必填欄位</div>
      <div class="p-2 flex-grow-1">
        <h3 class="text-center">請修改你的支出</h3>
      </div>
    </div>

    <div class="d-flex mb-3">
      <label for="name" class="form-label w-25 p-2 text-center">名稱<span style="color: red;">*</span>：</label>
      <input type="text" class="form-control p-2 flex-grow-1" id="name" aria-describedby="name" placeholder="名稱"
        name="name" value="{{ record.name }}" required>
    </div>

    <div class="d-flex mb-3">
      <label for="date" class="form-label w-25 p-2 text-center">日期<span style="color: red;">*</span>：</label>
      <input type="date" class="form-control p-2 flex-grow-1" id="date" aria-describedby="date" placeholder="date"
        name="date" value="{{ dateFormat record.date }}" required>
    </div>

    <div class="d-flex mb-3">
      <label for="category" class="form-label w-25 p-2 text-center">類別<span style="color: red;">*</span>：</label>
      <select class="form-select p-2 flex-grow-1" aria-label="category" name="categoryId" id="category"
        value="{{ record.category }}" required>
        <option selected disabled value="">選擇類別</option>
        <option value="1" {{#ifEqual record.categoryId 1 }}selected{{/ifEqual}}>家居物業</option>
        <option value="2" {{#ifEqual record.categoryId 2 }}selected{{/ifEqual}}>交通出行</option>
        <option value="3" {{#ifEqual record.categoryId 3 }}selected{{/ifEqual}}>休閒娛樂</option>
        <option value="4" {{#ifEqual record.categoryId 4 }}selected{{/ifEqual}}>餐飲食品</option>
        <option value="5" {{#ifEqual record.categoryId 5 }}selected{{/ifEqual}}>其他</option>
      </select>
    </div>

    <div class="d-flex mb-5">
      <label for="amount" class="form-label w-25 p-2 text-center">金額<span style="color: red;">*</span>：</label>
      <input type="number" class="form-control p-2 flex-grow-1" id="amount" aria-describedby="amount" placeholder="金額"
        name="amount" value="{{ record.amount }}" required>
    </div>

    <div class="d-flex justify-content-center">
      <button type="button" class="btn btn-outline-warning mx-3" data-bs-toggle="modal"
        data-bs-target="#edit-modal">Save</button>
      <a href="/">
        <button type="button" class="btn btn-outline-secondary mx-3">Back</button>
      </a>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="edit-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="edit-title" style="color: red; font-weight: 600;">Warning</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" style="color: rgb(0, 0, 168); font-weight: 300;">
            Please reconfirm your edits.
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-outline-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  </form>

  <div class="d-flex justify-content-center mt-4">
    <form action="/records/{{ record._id }}?_method=DELETE" method="POST" style="display: inline;">
      <button type="button" class="btn btn-outline-danger mx-3" data-bs-toggle="modal" data-bs-target="#delete-modal"
        style="width: 150px;">Delete</button>

      <!-- Modal -->
      <div class="modal fade" id="delete-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="title" style="color: red; font-weight: 600;">Warning</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="color: rgb(0, 0, 168); font-weight: 300;">
              Are you sure you want to delete this item？
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-outline-danger">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>